{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PIXABAY_API_KEY = '40905423-24d24966a8b04fca12252a818';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = searchedQuery => {\n  const urlParams = new URLSearchParams({\n    key: PIXABAY_API_KEY,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 24,\n  });\n  return fetch(`${BASE_URL}?${urlParams.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const createGalleryCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n        <li class='gallery-card'>\n            <a href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags} loading='lazy\" />\n            </a>\n            <div class=\"gallery-info\">\n                <p class=\"gallery-info-item\">\n                    <b>Likes</b>${likes}\n                </p>\n                    <p class=\"gallery-info-item\">\n                <b>Views</b>${views}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <b>Comments</b>${comments}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <b>Downloads</b>${downloads}\n                </p>\n            </div>\n          </li>`;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { createGalleryCard } from './js/render-functions';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.js-gallery a');\n\nconst toggleLoader = () => {\n  loaderEl.classList.toggle('is-hidden');\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchedValue = searchFormEl.elements.user_query.value.trim();\n  if (searchedValue === '') {\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n\n  toggleLoader();\n\n  fetchImages(searchedValue)\n    .then(data => {\n      toggleLoader();\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      const galleryMarkup = data.hits\n        .map(imgDetails => createGalleryCard(imgDetails))\n        .join('');\n\n      galleryEl.innerHTML = galleryMarkup;\n\n      lightbox.refresh();\n      searchFormEl.reset();\n    })\n    .catch(error => {\n      toggleLoader();\n      console.log(error);\n      iziToast.error({\n        message: `${error}`,\n        position: 'topRight',\n      });\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["PIXABAY_API_KEY","BASE_URL","fetchImages","searchedQuery","urlParams","response","createGalleryCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","toggleLoader","onSearchFormSubmit","event","searchedValue","data","iziToast","galleryMarkup","imgDetails","error"],"mappings":"6vBAAA,MAAMA,EAAkB,qCAClBC,EAAW,2BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAU,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CACnE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAoB,CAAC,CAChC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,uBAEcL,CAAa;AAAA,gDACYD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kCAIxCC,CAAK;AAAA;AAAA;AAAA,8BAGTC,CAAK;AAAA;AAAA;AAAA,qCAGEC,CAAQ;AAAA;AAAA;AAAA,sCAGPC,CAAS;AAAA;AAAA;AAAA,iBCnBzCC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAW,IAAIC,EAAe,eAAe,EAEjD,MAAMC,EAAe,IAAM,CACzBH,EAAS,UAAU,OAAO,WAAW,CACvC,EAEMI,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAgBR,EAAa,SAAS,WAAW,MAAM,OACzDQ,IAAkB,KAItBP,EAAU,UAAY,GAEtBI,IAEAjB,EAAYoB,CAAa,EACtB,KAAKC,GAAQ,CAGZ,GAFAJ,IAEII,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAED,MAAMC,EAAgBF,EAAK,KACxB,IAAIG,GAAcpB,EAAkBoB,CAAU,CAAC,EAC/C,KAAK,EAAE,EAEVX,EAAU,UAAYU,EAEtBR,EAAS,QAAO,EAChBH,EAAa,MAAK,CACxB,CAAK,EACA,MAAMa,GAAS,CACdR,IACA,QAAQ,IAAIQ,CAAK,EACjBH,EAAS,MAAM,CACb,QAAS,GAAGG,CAAK,GACjB,SAAU,UAClB,CAAO,CACP,CAAK,EACL,EAEAb,EAAa,iBAAiB,SAAUM,CAAkB"}